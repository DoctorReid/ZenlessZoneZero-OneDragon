name: "朱鸢站场"
allow_ultimate:
  - agent_type: "强攻"

scenes:

- triggers: ["闪避识别-黄光", "闪避识别-红光"]
  interval: 0.5
  handlers:
  - states: "[闪避识别-黄光, 0, 0.5]"
    operations:
      - operation_template: "双反-下一个"
  - states: "[闪避识别-红光, 0, 0.5]"
    sub_states:
      - state_template: "闪A模板-全角色"

- triggers: ["按键可用-快速支援"]
  interval: 1
  handlers:
  - states: "[按键可用-快速支援]"
    operations:
      - op_name: "按键-切换角色-下一个"
        data: []
      - op_name: "等待秒数"
        data: [ "0.1" ]

# 强攻第一次触发，先支援、再强攻；击破第一次触发，先支援、再强攻；支援不太会触发
- triggers: ["按键可用-连携技"]
  interval: 1
  handlers:
  - states: "[按键可用-连携技]"
    sub_states:
      - state_template: "连携模板-支援"
      - state_template: "连携模板-强攻"
      - state_template: "连携模板-跳过"

- triggers: ["前台-击破"]
  interval: 0.7
  handlers:
  - state_template: "击破速切模板-全角色"

- triggers: ["前台-支援"]
  interval: 0.7
  handlers:
  - state_template: "支援速切模板-全角色"

- triggers: []
  interval: 0.35
  handlers:
    - states: "[前台-朱鸢]"
      sub_states:
      # 失衡阶段：EAQ
      - states: "([按键-连携技-左, 0, 12] | [按键-连携技-右, 0, 12]) & [按键可用-终结技]"
        operations:
          - op_name: "按键-闪避"
            data: []
          - op_name: "等待秒数"
            data: [ "0.1" ]
          - op_name: "按键-特殊攻击"
            data: []
          - op_name: "等待秒数"
            data: [ "1.2" ]
          - operation_template: "朱鸢-蓄力3A"
          - op_name: "按键-终结技"
            data: []

      # 失衡阶段：EA
      - states: "([按键-连携技-左, 0, 12] | [按键-连携技-右, 0, 12]) & [按键可用-特殊攻击]"
        operations:
          - op_name: "按键-闪避"
            data: []
          - op_name: "等待秒数"
            data: [ "0.1" ]
          - op_name: "按键-特殊攻击"
            data: []
          - op_name: "等待秒数"
            data: [ "1.2" ]
          - operation_template: "朱鸢-蓄力3A"
          - operation_template: "朱鸢-蓄力3A"

      # 失衡阶段：A
      - states: "([按键-连携技-左, 0, 12] | [按键-连携技-右, 0, 12]) & ![按键可用-特殊攻击]"
        operations:
          - op_name: "按键-闪避"
            data: [ ]
          - op_name: "等待秒数"
            data: [ "0.1" ]
          - op_name: "按键-特殊攻击"
            data: [ ]
          - op_name: "等待秒数"
            data: [ "1.2" ]
          - operation_template: "朱鸢-蓄力3A"
          - operation_template: "朱鸢-蓄力3A"

      - states: ""
        operations:
          - op_name: "按键-移动-前-按下"
            data: [ ]
          - op_name: "按键-闪避"
            data: [ ]
          - op_name: "等待秒数"
            data: [ "0.1" ]
          - op_name: "按键-移动-前-松开"
            data: [ ]
          - op_name: "按键-普通攻击"
            data: [ ]
          - op_name: "等待秒数"
            data: [ "0.6" ]
          - operation_template: "朱鸢-5A接4A"
